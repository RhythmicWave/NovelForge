# 后续规划

本文件用于记录项目的短期 / 中期 / 长期规划。

- 可能会有较多规划项，也可能暂时为空。
- 更新频率不固定（按实际情况不定时更新）。
- 当本文件出现新的规划内容时，通常意味着这些方向在短期内**不一定**会由作者立即发布版本实现，但会先公开出来，方便有兴趣的贡献者参与。

## 贡献协作约定

如果你对某个规划功能感兴趣并准备实现，建议先提交一个 Issue 说明：

1. 你准备实现哪一个规划功能；
2. 你的实现思路（简要）；


这样可以减少与其他贡献者的重复开发或冲突。

当该功能完成、PR 提交并被接收后，请关闭对应 Issue。

### Issue 标题格式建议

为方便快速识别“规划认领”与普通问题，建议使用以下中文标题格式：

- 认领规划项：`【功能认领】【模块】功能名称`
- 方案讨论：`【方案讨论】【模块】方案主题`

示例：

- `【功能认领】【工作流】工作流可视化调试面板增强`
- `【方案讨论】【AI生成】指令流多轮反馈的状态机优化`

建议在 Issue 正文附上：

1. 计划实现范围（做什么 / 不做什么）
2. 预期时间（可选）
3. 是否需要协作

---

## TODO 待办清单

- [ ] 增加选项式回复功能：比如AI再不确定某个需求或后续剧情走向时，提供A、B、C等选项让用户选择。大概思路就是和AI约定一个格式，当需要用户选择时就将选项用格式包裹，然后前端能够解析，渲染出选项栏的样子，用户点击后，例如点击选项B，就相当于自动回复给了AI。该功能在设计、实现时最好能够解耦，比如通过提示词嵌入进另一个提示词，使得能够方便的开启/关闭该功能
- [ ] 章节正文字数约束功能：目前主要是通过提示词告诉AI，你大概要创作3000字的内容，但是难以有很强的约束。目前的思路大概有两种：就是要么让它也有调用工具的能力（提供一个计算字数的工具），然后通过提示词让它自己写多少字，例如500字左右就调用工具得到实际字数，工具将反馈实际字数和剩余需要的字数，方便让AI自己规划。但是这种方式可能需要把章节正文续写时的AI调用改成Agent。还有种方式就是前端在接收流式回复时，每当AI写完一段话就计算字数，然后例如满500字就打断AI回复，然后附加现在已有字数/剩余字数等信息，再让AI继续生成，以此类推。或者是否有其它更好设计？需权衡可用性、健壮性（例如能封装、抽象出来，使得以后对任一字段的有字数要求时都能复用那就更好了）
- [ ] 目前预设的提示词、卡片等已经有不少了，在设置里面进行查看的时候可能难以快速找到对应，或许应该增加一个分组功能，能够展开/折叠该组的数据？
